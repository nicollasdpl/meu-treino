<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport"
        content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no" />
  <title>Meu Treino</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <!-- HEADER -->
  <header>
    <h1>🏋️ Meu Treino</h1>
    <div class="timer">
      <button id="btnTimer" class="primary">Iniciar</button>
      <span id="timer">00:00:00</span>
    </div>
  </header>

  <!-- MAIN -->
  <main>
    <!-- HOME -->
    <section id="home" class="pagina">
      <div class="card">
        <h2 class="toolbar">
          <button id="prevMes" class="ghost">◀</button>
          <span id="mesAno">mês/ano</span>
          <button id="proxMes" class="ghost">▶</button>
        </h2>

        <div class="semana-labels">
          <span>Dom</span><span>Seg</span><span>Ter</span>
          <span>Qua</span><span>Qui</span><span>Sex</span><span>Sáb</span>
        </div>
        <div id="calendario" class="grid-cal"></div>
      </div>

      <div class="resumo">
        <div class="card"><b>Dias treinados:</b> <span id="diasTreinadosMes">0</span></div>
        <div class="card"><b>Último treino:</b> <span id="ultimoTreino">—</span></div>
        <div class="card"><b>Duração média:</b> <span id="duracaoMedia">—</span></div>
      </div>
    </section>

    <!-- TREINO -->
    <section id="treino" class="pagina hidden">
      <div class="toolbar">
        <h2>Treino</h2>
        <button id="btnCopyLast" class="ghost">Copiar última sessão</button>
      </div>

      <div class="tabs">
        <button class="tab-btn" data-dia="segunda">Seg</button>
        <button class="tab-btn" data-dia="terca">Ter</button>
        <button class="tab-btn" data-dia="quarta">Qua</button>
        <button class="tab-btn" data-dia="quinta">Qui</button>
        <button class="tab-btn" data-dia="sexta">Sex</button>
      </div>

      <p id="treinoDoDia" class="hint"></p>
      <div id="listaExercicios"></div>

      <div class="card">
        <div id="resumoTonelagem" class="muted"></div>
        <button id="salvarTreino" class="success">Salvar sessão</button>
        <span id="statusSave" class="muted" style="margin-left:8px"></span>
      </div>
    </section>

    <!-- EVOLUÇÃO -->
    <section id="evolucao" class="pagina hidden">
      <h2>Evolução</h2>

      <div class="grid-3">
        <div class="card"><b>Treinos (30d):</b> <span id="evQtd">0</span></div>
        <div class="card"><b>Volume total (30d):</b> <span id="evVol">0</span> kg·reps</div>
        <div class="card"><b>Melhor dia (30d):</b> <span id="evBest">0</span> kg·reps</div>
      </div>

      <div class="card">
        <h3>Últimas sessões</h3>
        <div id="listaSessoesDetalhe"></div>
      </div>
    </section>

    <!-- PERFIL -->
    <section id="perfil" class="pagina hidden">
      <h2>Perfil</h2>

      <div class="card profile">
        <img id="fotoPerfil" class="avatar" alt="foto" />
        <div class="profile-col">
          <label class="small muted">Nome</label>
          <input id="nomePerfil" type="text" placeholder="Seu nome" />
          <label class="small muted">Foto</label>
          <input id="fileFoto" type="file" accept="image/*" />
          <div class="muted small" id="firebaseStatus">Modo local</div>
        </div>
        <div class="profile-actions">
          <button id="btnLogin"  class="ghost">Login Google</button>
          <button id="btnLogout" class="ghost hidden">Sair</button>
        </div>
      </div>

      <div class="card">
        <h3>Hábitos de hoje</h3>
        <div class="checklist" id="habitos">
          <!-- preenchido via JS -->
        </div>
        <div class="muted small">Marcado = concluído (salva automaticamente).</div>
      </div>
    </section>
  </main>

  <!-- NAV -->
  <nav>
    <button data-go="home">🏠</button>
    <button data-go="treino">💪</button>
    <button data-go="evolucao">📊</button>
    <button data-go="perfil">👤</button>
  </nav>

  <script type="module" src="app.js"></script>
</body>
</html>
